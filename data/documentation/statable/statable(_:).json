{"kind":"symbol","metadata":{"roleHeading":"Macro","role":"symbol","symbolKind":"macro","modules":[{"name":"Statable"}],"externalID":"s:8StatableAAyyxmcs8SendableRzlufm","title":"Statable(_:)","fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"Statable"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":".Type)"}]},"hierarchy":{"paths":[["doc:\/\/Statable\/documentation\/Statable"]]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Statable\/documentation\/Statable\/Statable(_:)"},"abstract":[{"type":"text","text":"単一の非同期状態を管理するストアクラスを定義するマクロ"}],"variants":[{"paths":["\/documentation\/statable\/statable(_:)"],"traits":[{"interfaceLanguage":"swift"}]}],"seeAlsoSections":[{"identifiers":["doc:\/\/Statable\/documentation\/Statable\/Statable(_:operations:)"],"title":"@Statable マクロ","generated":true,"anchor":"Statable-マクロ"}],"primaryContentSections":[{"declarations":[{"tokens":[{"text":"@attached","kind":"attribute"},{"text":"(member, names: named(_asyncValue), named(_operations), named(value), named(state), named(isLoading), named(isIdle), named(isFailed), named(hasValue), named(error), named(operations), named(set), named(setError), named(startLoading), named(reset), named(load), named(loadIfNeeded), named(reload)) ","kind":"text"},{"text":"@attached","kind":"attribute"},{"text":"(extension, conformances: ","kind":"text"},{"text":"Statable","preciseIdentifier":"s:8StatableAAP","kind":"typeIdentifier","identifier":"doc:\/\/Statable\/documentation\/Statable\/Statable"},{"text":", ","kind":"text"},{"text":"Sendable","preciseIdentifier":"s:s8SendableP","kind":"typeIdentifier"},{"text":") ","kind":"text"},{"text":"macro","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Statable","kind":"identifier"},{"text":"<","kind":"text"},{"text":"T","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"_","kind":"externalParam"},{"text":" ","kind":"text"},{"text":"valueType","kind":"internalParam"},{"text":": ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":".Type) ","kind":"text"},{"text":"where","kind":"keyword"},{"text":" ","kind":"text"},{"text":"T","kind":"typeIdentifier"},{"text":" : ","kind":"text"},{"text":"Sendable","preciseIdentifier":"s:s8SendableP","kind":"typeIdentifier"}],"platforms":["macOS"],"languages":["swift"]}],"kind":"declarations"},{"content":[{"text":"Overview","type":"heading","anchor":"overview","level":2},{"inlineContent":[{"text":"クラスに AsyncValue のラッパー機能を自動生成し、","type":"text"},{"text":" ","type":"text"},{"code":"Statable","type":"codeVoice"},{"text":", ","type":"text"},{"code":"Sendable","type":"codeVoice"},{"text":" プロトコルへの準拠を追加します。","type":"text"}],"type":"paragraph"},{"text":"基本的な使い方","type":"heading","anchor":"%E5%9F%BA%E6%9C%AC%E7%9A%84%E3%81%AA%E4%BD%BF%E3%81%84%E6%96%B9","level":2},{"code":["@Statable(MetabolicProfile.self)","@MainActor @Observable","final class ProfileStore {","    \/\/ カスタム computed properties","    var currentAge: Int { value?.age() ?? 0 }","}"],"type":"codeListing","syntax":"swift"},{"text":"操作トラッキング付きの使い方","type":"heading","anchor":"%E6%93%8D%E4%BD%9C%E3%83%88%E3%83%A9%E3%83%83%E3%82%AD%E3%83%B3%E3%82%B0%E4%BB%98%E3%81%8D%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9","level":2},{"code":["enum WorkoutOperation: String, CaseIterable, Sendable {","    case fetch, record, delete","}","","@Statable([WorkoutActivity].self, operations: WorkoutOperation.self)","@MainActor @Observable","final class WorkoutStore {","    \/\/ operations.isActive(.fetch), operations.run(.record) { ... } などが使える","}"],"type":"codeListing","syntax":"swift"},{"text":"生成されるメンバー","type":"heading","anchor":"%E7%94%9F%E6%88%90%E3%81%95%E3%82%8C%E3%82%8B%E3%83%A1%E3%83%B3%E3%83%90%E3%83%BC","level":2},{"text":"AsyncValue関連","type":"heading","anchor":"AsyncValue%E9%96%A2%E9%80%A3","level":3},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"code":"value: T?","type":"codeVoice"},{"type":"text","text":" - 現在の値"}]}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"state: AsyncState<T>"},{"type":"text","text":" - 状態（switch用）"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"isLoading: Bool"},{"type":"text","text":" - ローディング中か"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"hasValue: Bool","type":"codeVoice"},{"type":"text","text":" - 値が存在するか"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"error: StateError?"},{"text":" - エラー","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"code":"set(_:)","type":"codeVoice"},{"text":" - 値を設定","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"setError(_:)"},{"text":" - エラーを設定","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"startLoading()"},{"text":" - ローディング開始","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"reset()"},{"type":"text","text":" - 初期状態にリセット"}]}]},{"content":[{"inlineContent":[{"code":"load(_:)","type":"codeVoice"},{"text":" - 非同期操作を実行","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"loadIfNeeded(_:)","type":"codeVoice"},{"text":" - 値がない場合のみロード","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":"reload(_:)"},{"text":" - 強制リロード","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"text":"OperationTracker関連（operations引数指定時のみ）","type":"heading","anchor":"OperationTracker%E9%96%A2%E9%80%A3operations%E5%BC%95%E6%95%B0%E6%8C%87%E5%AE%9A%E6%99%82%E3%81%AE%E3%81%BF","level":3},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"operations: OperationTracker<Op>"},{"type":"text","text":" - トラッカーインスタンス"}]}]}],"type":"unorderedList"},{"text":"View側での使用","type":"heading","anchor":"View%E5%81%B4%E3%81%A7%E3%81%AE%E4%BD%BF%E7%94%A8","level":2},{"code":["\/\/ 値へのアクセス","if let profile = store.value {","    Text(profile.name)","}","","\/\/ 状態でswitch","switch store.state {","case .idle:","    Text(\"未取得\")","case .loading(let prev):","    ProgressView()","case .loaded(let profile):","    ProfileView(profile: profile)","case .failed(let error):","    ErrorView(error: error)","}","","\/\/ 操作（operations付きの場合）","if store.operations.isActive(.fetch) {","    ProgressView()","}","await store.operations.run(.record) {","    try await api.record(workout)","}"],"type":"codeListing","syntax":"swift"}],"kind":"content"}],"schemaVersion":{"minor":3,"major":0,"patch":0},"sections":[],"references":{"doc://Statable/documentation/Statable/Statable(_:)":{"identifier":"doc:\/\/Statable\/documentation\/Statable\/Statable(_:)","abstract":[{"type":"text","text":"単一の非同期状態を管理するストアクラスを定義するマクロ"}],"role":"symbol","fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"Statable"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":">("},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":".Type)"}],"title":"Statable(_:)","kind":"symbol","type":"topic","url":"\/documentation\/statable\/statable(_:)"},"doc://Statable/documentation/Statable":{"url":"\/documentation\/statable","role":"collection","type":"topic","abstract":[{"text":"SwiftUI向けの宣言的な状態管理マクロライブラリ。","type":"text"}],"identifier":"doc:\/\/Statable\/documentation\/Statable","kind":"symbol","title":"Statable"},"doc://Statable/documentation/Statable/Statable":{"abstract":[{"type":"text","text":"状態コンテナとして振る舞うための基本プロトコル"}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Statable","kind":"identifier"}],"kind":"symbol","navigatorTitle":[{"text":"Statable","kind":"identifier"}],"type":"topic","url":"\/documentation\/statable\/statable","identifier":"doc:\/\/Statable\/documentation\/Statable\/Statable","title":"Statable","role":"symbol"},"doc://Statable/documentation/Statable/Statable(_:operations:)":{"abstract":[{"text":"操作トラッキング付きの@Statable","type":"text"}],"kind":"symbol","identifier":"doc:\/\/Statable\/documentation\/Statable\/Statable(_:operations:)","title":"Statable(_:operations:)","type":"topic","url":"\/documentation\/statable\/statable(_:operations:)","role":"symbol","fragments":[{"kind":"keyword","text":"macro"},{"kind":"text","text":" "},{"kind":"identifier","text":"Statable"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"T"},{"kind":"text","text":", "},{"kind":"genericParameter","text":"Op"},{"kind":"text","text":">("},{"kind":"typeIdentifier","text":"T"},{"kind":"text","text":".Type, "},{"kind":"externalParam","text":"operations"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Op"},{"kind":"text","text":".Type)"}]}}}